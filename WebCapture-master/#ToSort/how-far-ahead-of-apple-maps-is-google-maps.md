# GOOGLE MAPS’S MOAT

_Captured: 2017-12-21 at 20:13 from [www.justinobeirne.com](https://www.justinobeirne.com/google-maps-moat/)_

#  How far ahead of Apple Maps is Google Maps?  


## ⚠️ Tap or click any image to enlarge

Over the past year, we've been [comparing Google Maps and Apple Maps](https://www.justinobeirne.com/cartography-comparison) in New York, San Francisco, and London--but some of the biggest differences are outside of large cities.

Take my childhood neighborhood in rural Illinois. Here the maps are strikingly different, and Apple's looks empty compared to Google's:

![1-1 - Childhood Neighborhood.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3838f153450a16512111a1/1513634040081/1-1+-+Childhood+Neighborhood.gif?format=750w)

Similar to what we saw [earlier this year](https://www.justinobeirne.com/a-year-of-google-maps-and-apple-maps) at Patricia's Green in San Francisco, Apple's parks are missing their green shapes. But perhaps the biggest difference is the **building footprints**: Google seems to have them all, while Apple doesn't have any.

But it's not just Apple--no one else seems to have them either:

![1-2 - Map Providers.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383901ec212d30325af586/1513634064168/1-2+-+Map+Providers.gif?format=750w)

Only Google has buildings here.

**But if we had looked at this same area just a couple years ago, we wouldn't have seen any buildings on Google's map.** The buildings are a new thing, and I've been watching Google gradually add them over the past year:

![1-3 - Buildings Appearing.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38392124a6949ae32aea2b/1513634092156/1-3+-+Buildings+Appearing.gif?format=750w)

But "buildings" is the wrong word to describe what Google's been adding; it's more like "structures". Because not only has Google been adding houses, it's been adding garages and tool sheds:

![1-4 - Garages.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3839a953450a1651213904/1513634223893/1-4+-+Garages.gif?format=750w)

![1-5 - Park Shelters.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3839c18165f5e58ac80004/1513634247173/1-5+-+Park+Shelters.gif?format=750w)

![1-6 - Trailers.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3839ce085229e36d2757ba/1513634260684/1-6+-+Trailers.jpg?format=750w)

Now if the trailers are the least architecturally sophisticated structures in my hometown, then the churches are probably the most--and here's where things get really interesting:

![1-7 - Churches.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a392d38f9619a65dc720464/1513696585001/1-7+-+Churches.jpg?format=750w)

Notice the detail. (Google even has the front steps.)

And it's not just churches that are this detailed...

Here's the post office:

![1-9 - Post Office.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a06e4966b79a0f4b7ee/1513634314512/1-9+-+Post+Office.jpg?format=750w)

![1-10 - Biggest House.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a1353450a1651214fc7/1513634329255/1-10+-+Biggest+House.jpg?format=750w)

Again, this isn't some big, bustling city, like San Francisco or New York or even Naperville. It's a small, rural town.

It's so rural, its roads are among the 1% of U.S. roads that Google hasn't Street View'd:[1](https://www.justinobeirne.com/google-maps-moat/)

![1-11 - Street View Coverage.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a23c830258ccbe74259/1513634343312/1-11+-+Street+View+Coverage.gif?format=750w)

Street View vehicles once drove across the main routes **nine years ago**--but they never returned to capture the rest. So why was Google quietly adding all of this detail to a town it had never bothered to Street View?

I started looking at other towns nearby, and Google had buildings in all of them too. Here's one ten times smaller than mine, a town of 1,000:

![1-12 - Ladd.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a3553450a165121568c/1513634362297/1-12+-+Ladd.gif?format=750w)

![1-13 - Leonore.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a459140b76437258967/1513634378073/1-13+-+Leonore.gif?format=750w)

Ten times smaller than 100 is 10--and according to the 2016 census estimates, there's no town that small in my home state. But there are a couple with populations of just 13. Here's one of them:

![](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a5253450a1651215bfd/1513634391235/?format=750w)

More buildings.

But while Google has buildings in my home state's smallest towns, Apple doesn't have them in the majority of U.S. state capitals.

Here's Salem, Oregon:

![1-15 - Salem.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a6853450a16512160ce/1513634414367/1-15+-+Salem.jpg?format=750w)

![1-16 - Harrisburg.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a7553450a16512162eb/1513634425498/1-16+-+Harrisburg.jpg?format=750w)

![1-17 - Olympia.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a84085229e36d277c69/1513634440878/1-17+-+Olympia.jpg?format=750w)

![1-18 - 25 State Capitals.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383a9353450a165121697d/1513634481829/1-18+-+25+State+Capitals.gif?format=750w)

In fairness to Apple, some of these capitals are pretty small. Then again, **Apple doesn't even have buildings in parts of the U.S.'s three largest cities**.

Here's the University of Chicago in Chicago:

![1-19 - Chicago.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383abd71c10b467b6014f0/1513634499583/1-19+-+Chicago.gif?format=750w)

![1-20 - Los Angeles.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383ace24a6949ae32b4408/1513634515463/1-20+-+Los+Angeles.gif?format=750w)

![1-21 - New York.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383ae241920241ebcd7aee/1513634536908/1-21+-+New+York.gif?format=750w)

And even in areas where Apple _does_ have buildings, Google's are generally much more detailed--such as here in downtown San Francisco:

![1-22 - Skyscraper.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383afae2c4836296ddbaf0/1513634560733/1-22+-+Skyscraper.gif?format=750w)

![1-23 - Dishes.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b0c652dea7bc240f21a/1513634587325/1-23+-+Dishes.gif?format=750w)

![1-24 - Dishes.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b28f9619a424b9f47df/1513634609326/1-24+-+Dishes.gif?format=750w)

A couple blocks away, another building has a row of five fans on its roof:

![1-25 - HVAC.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b3e9140b7643725bba1/1513634626647/1-25+-+HVAC.jpg?format=750w)

![1-26 - HVAC.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b4be2c4836296ddcb0b/1513634639667/1-26+-+HVAC.jpg?format=750w)

And it's not just the downtown skyscrapers that are detailed. Here's one of the hotels on Nob Hill, the Mark Hopkins:

![1-27 - Hotel.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b5d41920241ebcd94e4/1513634657817/1-27+-+Hotel.jpg?format=750w)

![1-28 - Hotel.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b6be4966b79a0f50060/1513634674744/1-28+-+Hotel.gif?format=750w)

![1-29 - Cathedral.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b7ec830258ccbe788a8/1513634691743/1-29+-+Cathedral.gif?format=750w)

![1-30 - High School.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383b93ec212d30325b800f/1513634713001/1-30+-+High+School.gif?format=750w)

![1-31 - Bay Windows.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383ba553450a165121a25f/1513634736574/1-31+-+Bay+Windows.gif?format=750w)

And Google's buildings are so detailed, you can tell which houses have bay windows:

![1-32 - Houses.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383bbbe2c4836296dde26b/1513634754332/1-32+-+Houses.gif?format=750w)

![1-33 - Empire State Building.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383bd7652dea7bc2411bc2/1513634781154/1-33+-+Empire+State+Building.jpg?format=750w)

Sometime between now and then, their detail and coverage dramatically increased.

But when?

Browsing through Google's old press releases, it appears that Google added [the first 1,000](https://maps.googleblog.com/2012/03/introducing-more-detailed-3d-landmarks.html) of these detailed buildings back in 2012:

![1-34 - Google Press Release.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383be8e2c4836296ddeb37/1513634797319/1-34+-+Google+Press+Release.jpg?format=750w)

Most of these 1,000 buildings were landmarks, like the Florence's Cathedral and the Sydney Opera House. But just a few months later, this initial trickle of buildings suddenly became a deluge as Google [started adding](https://maps.googleblog.com/2012/10/expanded-coverage-of-building.html) **whole metro areas**:

> ## Now, you can see 25 million new building footprints that have been added to Google Maps on desktop and mobile across major metropolitan regions in the United States, including Houston, Los Angeles, Chicago, Miami, and the San Francisco Bay Area.

In that same press release, Google also reveals how it's making them:

> ## These building footprints, complete with height detail, are algorithmically created by taking aerial imagery and using computer vision techniques to render the building shapes.

And this is even how Google is making complex structures, like [Seattle's Space Needle](https://www.wired.com/2014/12/google-maps-ground-truth/):

> ## For landmarks like Seattle's Space Needle, computer vision techniques extract detailed 3D models.

![1-35 - Space Needle.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c0453450a165121b618/1513634827526/1-35+-+Space+Needle.jpg?format=750w)

![1-36 - Making Buildings.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c179140b7643725ea84/1513634850668/1-36+-+Making+Buildings.gif?format=750w)

And reexamining my hometown's buildings, this makes sense. They almost perfectly match Google's imagery:

![1-37 - Satellite to Buildings.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c3153450a165121bff8/1513634886968/1-37+-+Satellite+to+Buildings.gif?format=750w)

But what's most interesting is **how fast** Google is making these buildings.

**Just two years after it started adding them, Google already had [the majority of buildings in the U.S.](https://www.wired.com/2014/12/google-maps-ground-truth/)** And now after five years, it has my rural hometown--an area it still hasn't Street View'd (after **[10+ years** of Street View](https://www.blog.google/products/maps/cheers-street-views-10th-birthday/)).

![1-38 - Timeline 1.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c53ec212d30325ba6a5/1513634903551/1-38+-+Timeline+1.png?format=750w)

![1-39 - Satellite vs Street View.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c60652dea7bc241371c/1513634917970/1-39+-+Satellite+vs+Street+View.jpg?format=750w)

And this building-generation process seems automated to such a degree that buildings sometimes appear on Google's map before roads do:

![1-40 - Winnemucca.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c70652dea7bc2413a39/1513634944102/1-40+-+Winnemucca.gif?format=750w)

**At the rate it's going, how long until Google has every structure on Earth?**

But these buildings are more than just a pretty detail--they appear to be the foundation for one of Google Maps's newest features...

## **DATA ALCHEMY**

If you asked someone to sketch a map of their city, what would they draw? And how closely would it resemble the maps we commonly use?

Rachelle Annechino and Yo-Shang Cheng explored these questions in their 2011 masters thesis, "[Visualizing Mental Maps of San Francisco](http://groups.ischool.berkeley.edu/mentalmaps)":

![2-1 - Study Cover.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c9224a6949ae32b9fbe/1513634966208/2-1+-+Study+Cover.jpg?format=750w)

As part of their study, they interviewed twenty-two San Francisco residents and asked each to sketch a map of the city.

![2-2 - Sketches.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383c9f24a6949ae32ba330/1513634988943/2-2+-+Sketches.gif?format=750w)

Across the sketches and interviews, Annechino and Cheng observed a common theme in how the interviewees described the city:

> ## We found that people tended to conceptualize San Francisco in terms of "main drags" and "mini cities"--commercial corridors that attract people

Many of San Francisco's neighborhoods have a single street that commercial activity is centered around. And these "main drags" or "commercial corridors" act as destinations, attracting people from other parts of the city.

![2-3 - Chestnut Street.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383cbef9619a424b9f99d4/1513635011945/2-3+-+Chestnut+Street.jpg?format=750w)

Using zoning maps and information from the interviews, Annechino and Cheng identified twenty-seven "commercial corridors" within San Francisco:

![2-4 - Commercial Corridors.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383cd241920241ebcde17f/1513635030566/2-4+-+Commercial+Corridors.jpg?format=750w)

Of course, these "commercial corridors" aren't just a San Francisco thing--almost every city has them. (Even my tiny hometown has a few.) And they're not only relevant for residents, they're also important to travelers:

_"Which areas have a lot of restaurants and shops within walking distance?"_

_"I just got off the freeway, where's the business district?"_

But the map isn't always the territory, and **the locations of these corridors aren't immediately obvious on most online maps**. **Up until last year, _this was even true of Google Maps_**. Let me show you...

**Patricia's Green** (the park from "[A Year of Google & Apple Maps](https://www.justinobeirne.com/a-year-of-google-maps-and-apple-maps)") actually sits along one of these commercial corridors in San Francisco, the **Hayes Street** corridor:

![2-5 - Hayes Commercial Corridor.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383ce5f9619a424b9fa0b7/1513635051861/2-5+-+Hayes+Commercial+Corridor.jpg?format=750w)

![2-6 - Google Maps 2016 Edition.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383cf9e4966b79a0f55166/1513635089291/2-6+-+Google+Maps+2016+Edition.gif?format=750w)

Notice that it isn't until **z18**--one of Google's very last zooms--that we begin seeing businesses clustered along Hayes Street. In other words, **we can't tell that Hayes Street is a commercial corridor until we're already so zoomed in, it's the only thing in view**.

See the problem?

There's no way to look at a map of a city and quickly spot the commercial corridors. Look again at San Francisco: there's no hint that the corridors (the black lines) are actually there:

![2-7 - Google Maps with Corridors.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383d1ec830258ccbe7dc45/1513635116214/2-7+-+Google+Maps+with+Corridors.gif?format=750w)

Of course, much of the problem is that we're trying to find the corridors by looking for clusters of **place labels** (e.g., restaurants, shops, etc.). And place labels, like any other kind of map label, are subject to a number of design constraints:

**They have to be large enough to be legible.**[3](https://www.justinobeirne.com/google-maps-moat/)

![2-8 - Text Size.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383d3d652dea7bc24163e5/1513635138552/2-8+-+Text+Size.gif?format=750w)

![2-9 - Overlapping.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383d4b0d92972a19c16bc4/1513635151367/2-9+-+Overlapping.gif?format=750w)

![2-10 - Ambiguity.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383d5771c10b467b609c9d/1513635163997/2-10+-+Ambiguity.gif?format=750w)

**And they have to coexist with other kinds of map labels, like roads and neighborhoods.**

![2-11 - Coexist.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383d649140b76437262d30/1513635177493/2-11+-+Coexist.png?format=750w)

Because of these constraints, there's a limit to the [number of places](https://www.justinobeirne.com/cartography-comparison-part-1#places) that can labeled on most zooms. And this limit prevents us from seeing clusters of businesses until we're zoomed in really far.

So how could Google solve this?

At some point, Google likely realized it already had...

If we look at Google's Bay Area map, we see a handful of cities:

Because **city labels** are subject to the same design constraints as **place labels** (e.g., can't overlap, can't be too close together, etc.), Google can only fit a handful of cities here.

But even though Google can't label every city, it's still useful to know that there's a density of cities here--so Google communicates this with a special **shading**:

At some point, Google realized that just as it uses shadings to convey **densities of cities**, it could also use shadings to convey **densities of businesses**. And it shipped these copper-colored shadings [last year](https://blog.google/products/maps/discover-action-around-you-with-updated/) as part its Summer redesign, calling them "**Areas of Interest**":

What's more, these "Areas of Interest" managed to capture **all** of Annechino's and Cheng's commercial corridors:

Annechino and Cheng spent months researching one city. But not only did Google capture all of their commerical corridors (and several more), it somehow came up with them for thousands of cities across the world. (Even my tiny hometown got a few.)

How did Google scale this?

But not only that, Google's "Areas of Interest" ("AOIs") are much more detailed than Annechino's and Cheng's corridors--notice that they have very specific and granular shapes:

Where are these shapes coming from?

Google has said surprisingly little about how it's making AOIs--just that they're generated using an "**[algorithmic process**](https://blog.google/products/maps/discover-action-around-you-with-updated/)" that identifies "**[areas with the highest concentrations of restaurants, bars and shops**](https://blog.google/products/maps/discover-action-around-you-with-updated/)".[4](https://www.justinobeirne.com/google-maps-moat/)

So it sounds as if Google is making AOIs out of certain kinds of places, like **restaurants**, **bars**, and **shops**:

But this still doesn't explain the detailed shapes. Businesses are shown as circular icons, but AOIs aren't circular. Nor are they heat maps. Rather, they're boxy and rectangular.... almost like buildings.

Zooming in to get a closer look, the AOI shapes fade out just as buildings begin appearing on the map...

![2-20 - AOIs Fade Out.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383e53e4966b79a0f59996/1513635424946/2-20+-+AOIs+Fade+Out.gif?format=750w)

...but there's a single zoom where, for a brief moment, **AOIs** and **buildings** appear together:

![2-21 - Zoom with AOIs & Buildings.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383e6ee4966b79a0f5a026/1513635442599/2-21+-+Zoom+with+AOIs+%26+Buildings.jpg?format=750w)

And this zoom seems to offer us a clue...

Let's take the map above and, using Google Maps's styling API, let's remove everything other than the buildings and the AOIs:

![2-22 - Hayes Erased Map.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383e84e4966b79a0f5a4c5/1513635474665/2-22+-+Hayes+Erased+Map.gif?format=750w)

![2-23 - Hayes Rectangle 1.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383e9e0d92972a19c1b3c1/1513635493774/2-23+-+Hayes+Rectangle+1.gif?format=750w)

...but there are a number of places where the rectangle juts out, and these juts align with many of the buildings:

![2-24 - Hayes Rectangle 2.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383eafec212d30325c231b/1513635512787/2-24+-+Hayes+Rectangle+2.gif?format=750w)

So it seems as if buildings are informing the AOI shapes.

About a mile west, there's a different AOI centered along Haight Street. Here again, buildings seem to influence the AOI's overall shape:

![2-25 - Haight Rectangle.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383ece41920241ebce4db9/1513635547472/2-25+-+Haight+Rectangle.gif?format=750w)

![2-26 - Mission Rectangle.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383eeb0d92972a19c1c47a/1513635580080/2-26+-+Mission+Rectangle.gif?format=750w)

But there's a second pattern... do you see it?

The juts only happen when **orange buildings** go outside the rectangle. Take another look:

![2-27 - Mission Jut.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f0be4966b79a0f5c465/1513635606242/2-27+-+Mission+Jut.gif?format=750w)

![2-28 - Sunset Jut.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f2953450a1651226033/1513635637238/2-28+-+Sunset+Jut.gif?format=750w)

The orange buildings are clearly giving the AOI its jagged shape.

But what are these orange buildings?

All of Google Maps's buildings were grey until the day that AOIs were introduced in July 2016. That day, some of Google Maps's buildings turned orange:

![2-29 - Orange Buildings.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f41e4966b79a0f5cfc0/1513635657502/2-29+-+Orange+Buildings.gif?format=750w)

But why did they turn orange?

Looking closer, it seems that the **orange buildings are buildings with specific kinds of businesses inside of them**, specifically **restaurants** and **shops**:

![2-30 - Associated.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f5624a6949ae32c35c6/1513635676408/2-30+-+Associated.gif?format=750w)

This suggests that Google took its buildings and crunched them against its places. In other words, **Google appears to be creating these orange buildings by matching its building and place datasets together**:

![2-31 - Equation - Orange Buildings.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f6cf9619a424ba02949/1513635696882/2-31+-+Equation+-+Orange+Buildings.png?format=750w)

And Google's "Areas of Interest" are shapes that are being algorithmically generated around high densities of these orange buildings:

![2-32 - Equation - AOIs.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f78ec212d30325c4d44/1513635709172/2-32+-+Equation+-+AOIs.gif?format=750w)

So Google seems to be creating AOIs out of its building and place data.[5](https://www.justinobeirne.com/google-maps-moat/) But what's most interesting is that **Google's building and place data are themselves extracted from other Google Maps features**.

As we saw earlier, Google's buildings are created out of the imagery it gathers for its **Satellite View**:

![2-33 - Making Buildings.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f88c830258ccbe86234/1513635724452/2-33+-+Making+Buildings.jpg?format=750w)

![2-34 - Ground Truth.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383f9a085229e36d288a27/1513635742720/2-34+-+Ground+Truth.jpg?format=750w)

In other words, Google's buildings are **byproducts** of its Satellite/Aerial imagery.[6](https://www.justinobeirne.com/google-maps-moat/) And some of Google's places are **byproducts** of its Street View imagery...

![2-35 - Features Chart.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383fac8165f5e58ac93852/1513635760216/2-35+-+Features+Chart.jpg?format=750w)

![2-36 - Byproducts Chart.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383fbd085229e36d2890fb/1513635778356/2-36+-+Byproducts+Chart.png?format=750w)

## **THE MOAT**

With "Areas of Interest", Google has a feature that Apple doesn't have. But it's unclear if Apple could add this feature to its map in the near future.

The challenge for Apple is that AOIs aren't _collected_--they're _**created**_. And Apple appears to be missing the ingredients to create AOIs at the same quality, coverage, and scale as Google.

As we saw, **buildings** appear to be a crucial ingredient:

![3-1 - Making AOIs.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383fdb41920241ebce859d/1513635810327/3-1+-+Making+AOIs.gif?format=750w)

And prior to releasing AOIs, Google spent at least **four years** amassing a worldwide dataset of imagery-extracted buildings:

![3-2 - Timeline 2.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383fed71c10b467b612890/1513635825900/3-2+-+Timeline+2.png?format=750w)

Around the same time that Google started adding these imagery-extracted buildings to its map, it also [started adding](https://googleblog.blogspot.com/2012/06/never-ending-quest-for-perfect-map.html) **3D models of metropolitan areas** to Google Earth...

![3-3 - Timeline 3.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383ffae2c4836296dec1e2/1513635839087/3-3+-+Timeline+3.png?format=750w)

![3-4 - 3D Model.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3840098165f5e58ac94a72/1513635855331/3-4+-+3D+Model.jpg?format=750w)

![](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a383854c830258ccbe6df1b/1513633878279/3-5+-+Process.jpg?format=750w)

Watching the video above, it seems that Google's buildings and 3D city models are created by a very similar process. (Maybe even the _same_ process?)

Now what's interesting about all of this is that [Apple announced](https://youtu.be/LmKdoEUfaos?t=3m22s) its own 3D city model feature, called "**Flyover**", just **five days** after [Google did](https://www.youtube.com/watch?v=HMBJ2Hu0NLw&feature=youtu.be&t=41m14s) in 2012...

![3-6 - Pyramid.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38401d41920241ebce91f7/1513635880068/3-6+-+Pyramid.jpg?format=750w)

...so this means that Apple, like Google, has also been collecting aerial imagery--and that it's been doing this for at least the last **five years**. (As of this writing, Apple has collected imagery for more than [300 cities and areas, worldwide](https://www.apple.com/ios/feature-availability/#maps-flyover).)

But unlike Google, **Apple doesn't appear to be extracting buildings out of its imagery**. For example, both Google and Apple have 3D models of the University of Chicago campus:

![3-7 - Chicago.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3840368165f5e58ac95307/1513635911010/3-7+-+Chicago.gif?format=750w)

![3-8 - Chicago.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a384052f9619a424ba057aa/1513635934439/3-8+-+Chicago.gif?format=750w)

![3-9 - Los Angeles.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38406d41920241ebcea1c7/1513635964838/3-9+-+Los+Angeles.gif?format=750w)

![3-10 - Los Angeles.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38408753450a165122a76f/1513635983496/3-10+-+Los+Angeles.gif?format=750w)

![3-11 - New York.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38409a41920241ebceab4f/1513636014370/3-11+-+New+York.gif?format=750w)

![3-12 - New York.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3840bb0d92972a19c22108/1513636036315/3-12+-+New+York.gif?format=750w)

So Apple doesn't appear to be extracting buildings from its imagery.

And in areas where Apple **does** have buildings, it appears that they're being sourced from third-parties, such as **TomTom** ([Apple's primary data provider](https://www.reuters.com/article/us-tomtom-apple/tomtom-shares-jump-after-apple-renews-digital-maps-contract-idUSKBN0O40GE20150519)).

In Chicago, for instance, Apple's building coverage abruptly stops in the middle of the same blocks as TomTom's:

![3-13 - TomTom & Apple Buildings - Chicago.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3840d1085229e36d28c7a4/1513636053880/3-13+-+TomTom+%26+Apple+Buildings+-+Chicago.jpg?format=750w)

![3-14 - TomTom & Apple Buildings - US Cities.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3840e371c10b467b6159db/1513636108224/3-14+-+TomTom+%26+Apple+Buildings+-+US+Cities.gif?format=750w)

So Apple is either using TomTom's building data, or TomTom and Apple are both getting buildings from the same third-party.[7](https://www.justinobeirne.com/google-maps-moat/)

But this just further shows that Apple hasn't been extracting buildings out its imagery. And because Apple hasn't been doing this, it hasn't amassed the global dataset of buildings it needs to make AOIs at the same scale as Google.

![3-16 - Ground Truth.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3841348165f5e58ac986f1/1513636152950/3-16+-+Ground+Truth.jpg?format=750w)

![3-17 - Apple Maps Vehicle.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a384143c830258ccbe8bc60/1513636174333/3-17+-+Apple+Maps+Vehicle.jpg?format=750w)

Many have [speculated](https://www.macrumors.com/2015/02/04/mysterious-apple-car/) that Apple is collecting its own Street View imagery. **But given what we saw [a few months ago](https://www.justinobeirne.com/a-year-of-google-maps-and-apple-maps#patricias-green) at Patricia's Green, it doesn't appear that Apple is extracting place data from whatever these vans are collecting.**

If you remember from "[A Year of Google & Apple Maps](https://www.justinobeirne.com/a-year-of-google-maps-and-apple-maps#patricias-green)", there was a group of three auto service-related businesses (_Domport Auto Body Service_, _Fell Street Auto Service_, and _California Detailing_) near the southeast corner of Patricia's Green:

![3-18 - Auto Services.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38415c24a6949ae32c9da6/1513636192594/3-18+-+Auto+Services.jpg?format=750w)

![3-19 - Auto Services.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38416b8165f5e58ac9929d/1513636226007/3-19+-+Auto+Services.gif?format=750w)

And we saw the same on the park's northwest corner: _Timbuk2_ and _La Boulangerie_ occupy the ground floor of the same building:

![3-20 - Timbuk2.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a384191e2c4836296df12e1/1513636246586/3-20+-+Timbuk2.jpg?format=750w)

Google plotted them in separate locations, showing both. But Apple plotted them in the same location:

![3-21 - Timbuk2.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38419e9140b76437270c70/1513636271748/3-21+-+Timbuk2.gif?format=750w)

So if Apple had been extracting place data from street-level imagery since 2015, wouldn't these businesses have been better placed?[8](https://www.justinobeirne.com/google-maps-moat/)

Even today, there are similar situations across San Francisco. For example, as of this writing, Apple labels San Francisco's tallest building, **[Salesforce Tower**](https://en.wikipedia.org/wiki/Salesforce_Tower), across the street from it's actual location:

![3-22 - Salesforce Tower.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3841b9ec212d30325cbf13/1513636289079/3-22+-+Salesforce+Tower.gif?format=750w)

So it doesn't appear as if Apple is extracting place data from whatever its vehicles are collecting. And if this is true, then Apple is still a couple stages behind Google in map-making:

![3-23 - Stages Chart.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3841cfc830258ccbe8d78a/1513636308280/3-23+-+Stages+Chart.png?format=750w)

Google has repeatedly [told journalists](https://www.wired.com/2014/12/google-maps-ground-truth/) that it started extracting data from Street View imagery in 2008, as part of its "**Ground Truth**" project. So this suggests that Google may have a **6+ year lead** over Apple in data collection:

![3-24 - Timeline 4.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3841deec212d30325cc607/1513636327270/3-24+-+Timeline+4.png?format=750w)

And as we saw with AOIs, **Google has gathered so much data, in so many areas, that it's now crunching it together and creating features that Apple can't make--surrounding Google Maps with a moat of time**.[9](https://www.justinobeirne.com/google-maps-moat/), [10](https://www.justinobeirne.com/google-maps-moat/), [11](https://www.justinobeirne.com/google-maps-moat/)

It makes you wonder how long back Google was planning all of this--and what it's planning next...[12](https://www.justinobeirne.com/google-maps-moat/)

As we saw earlier, Google seems to have associated its building and place datasets together:

![3-25 - Associated.gif](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3841f5c830258ccbe8de35/1513636348803/3-25+-+Associated.gif?format=750w)

So **Google likely knows what's inside all of the buildings it has extracted**. And as Google gets closer and closer to capturing every building in the world, it's likely that Google will start **highlighting / lighting up buildings** related to queries and search results.

This will be really cool when Google's/Waymo's self-driving cars have AR displays. One can imagine pointing out the window at a building and being able to see what's inside.[13](https://www.justinobeirne.com/google-maps-moat/) Or having destinations highlighted, like in [Microsoft's 2012 "Future Vision" video](https://youtu.be/nOU_t4bqEJg?t=33s):

![3-26 - Future Vision.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3842079140b764372720ea/1513636363868/3-26+-+Future+Vision.jpg?format=750w)

Speaking of Google's self-driving cars, there was [recent news](https://www.bloomberg.com/news/articles/2016-12-13/google-said-to-plan-ride-sharing-service-with-chrysler-minivans-iwnox94h) that Google was using them to start its own Uber-style ride-hailing service.

![3-27 - Waymo Ride Service.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38421871c10b467b61970a/1513636380266/3-27+-+Waymo+Ride+Service.jpg?format=750w)

That sounds great--but living in San Francisco, it's hard to imagine this working smoothly. That's because half the time I request a ride, I have to text/call the driver to coordinate my pickup spot. And I'm not alone--here's [Nilay Patel, writing in _The Verge_](https://www.theverge.com/2016/8/24/12628488/uber-maps-self-driving-cars-egress-problem):

> ## I call an Uber to my apartment building, and the driver gets lost because they can't find the door.  
  
See, the address of my building is on a main street, but the actual entrances are on the sides of the building--and when I drop a pin at those locations, Uber maps them to nonexistent addresses. So the drivers either pull up to the correct building address and don't see a door, or they pull up to a door that has a wildly different address on it.  
  
For the moment, it's a pretty minor issue--the easiest solution is just for the drivers to call the rider, and it works itself out. But you can't call a self-driving car and say "oh, I live in the white building and the door is around the corner".

Address issues like these aren't unique to cities. In rural areas, addresses often correspond to mailboxes that aren't anywhere near their respective houses:[14](https://www.justinobeirne.com/google-maps-moat/)

![3-28 - Rural Mailboxes.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a3842279140b76437272789/1513636395764/3-28+-+Rural+Mailboxes.jpg?format=750w)

So how will Google solve this?

Probably just like it solved AOIs: by making data out of data.

As we saw, Google's aerial imagery gives it the shape of every building. And Google's Street View imagery gives it the location of every door:

![](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38423753450a165122fe20/1513636413561/?format=750w)

I think you can probably see where this is going...[15](https://www.justinobeirne.com/google-maps-moat/), [16](https://www.justinobeirne.com/google-maps-moat/)

AOIs are just a taste of what's coming.

**1** _"It's so rural, its roads are among the 1% of U.S. roads that Google hasn't Street View'd."_

In 2014, [Google told Wired](https://www.wired.com/2014/12/google-maps-ground-truth/) that its Street View vehicles had driven "more than 7 million miles, including **99 percent of the public roads in the U.S.**"

(Given that Google [started Street View in 2007](https://www.blog.google/products/maps/cheers-street-views-10th-birthday/), this also tells us that it took Google's Street View vehicles **seven years** to drive 99% of the U.S.) [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**2** In downtown Los Angeles, Google's buildings are so detailed that you can sometimes see the **blades** inside the rooftop fans. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

![F-1 - Fan Blades.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a384249f9619a424ba0bd17/1513636430214/F-1+-+Fan+Blades.jpg?format=750w)

![F-2 - Long Label.png](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a384258c830258ccbe8f1da/1513636445408/F-2+-+Long+Label.png?format=750w)

**4** _"Google has said surprisingly little about how it's making AOIs..."_ Google's secretiveness in how it's making AOIs has been somewhat to its detriment, as [bloggers](http://www.slate.com/blogs/future_tense/2016/07/27/google_maps_new_redesign_doesn_t_hide_its_biases.html) and [journalists](https://www.citylab.com/design/2016/08/google-maps-areas-of-interest/493670/) have drawn their own (sometimes unflattering) conclusions. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**5** AOIs also say a lot about Google's confidence in the accuracy of its place data and its ability to keep AOIs up-to-date. (I.e., Google feels its place data is accurate enough to build new features off of it.) [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**6** This whole "byproduct" thing reminds of Kingsford Charcoal's [origin story](https://en.wikipedia.org/wiki/Kingsford_%28charcoal%29#History). From _Rework_ by Jason Fried and David Heinemeier Hansson:

> ## Henry Ford learned of a process for turning wood scraps from the production of Model T's into charcoal briquets. He built a charcoal plant and Ford Charcoal was created (later renamed Kingsford Charcoal). Today, Kingsford is still the leading manufacturer of charcoal in America.

It's cool to see how cleverly Google is using its own byproducts. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**7** There's a small number of buildings, such as Apple's Cupertino campuses, that Apple is making itself. But these buildings are handmade by [artists](http://ecady.com) rather than by algorithms. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**8** Given how many Apple employees live in and around San Francisco, you'd expect that San Francisco would be one of the first places where Apple would be extracting place data from imagery. (I.e., San Francisco would seem to be the perfect **test ground**, given its high density of businesses and year-round good weather, minus [Karl](https://twitter.com/KarlTheFog).) [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**9** It's interesting to ponder what this means for Google's competitors. It's no longer enough to simply collect data. Now to compete with Google, you also have to process that data and make new features out of it. Hence, the "moat".

It's also interesting to ponder what this means for OpenStreetMap. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**10** Another advantage of Google collecting its own data is that **it owns everything it collects**. And because of this, it can do things with its data that Apple might be restricted from doing (because Apple seems to license most of its data from [third-parties](https://gspe21-ssl.ls.apple.com/html/attribution-94.html)).

(Often in map licensing agreements, if you stop licensing the data, you lose the right to anything that was derived from it.) [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**11** Assuming Google's efforts don't slow (and they show [no sign of slowing](https://twitter.com/viticci/status/930899943266639873)), is it even possible for Apple to catch up to Google?

Google's lead in data is reminiscent of Apple's lead in smartphones in 2007. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

![F-3 - Steve Jobs.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a384270f9619a424ba0c5e1/1513636468498/F-3+-+Steve+Jobs.jpg?format=750w)

![F-4 - MVP.jpg](https://static1.squarespace.com/static/54ff63f0e4b0bafce6932642/t/5a38427e8165f5e58ac9c84c/1513636482879/F-4+-+MVP.jpg?format=750w)

How far back was the product roadmap planned? And did the roadmap deliberately prioritize difficult-to-replicate features? [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**13** Here, I'm assuming that there will be cameras inside of Google's/Waymo's self-driving cars that will detect when you're pointing at something. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**14** This is a bigger problem than it seems. Of the approximately 150 million addresses in the U.S., nearly **40 million** are rural and the majority of these have mail delivered to a box in a row of mailboxes not co-located with its residence. (Source: **[Mike Dobson](http://blog.telemapics.com/?p=632)** / **[Telemapics](http://blog.telemapics.com/?p=632)**.) [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**15** Perhaps this is one of the reasons why **[Lyft recently hired**](https://www.theverge.com/2017/2/9/14559400/lyft-google-maps-street-view-luc-vincent-self-driving)** Google's Street View VP**. [↩︎](https://www.justinobeirne.com/google-maps-moat/)

**16** This will be even more useful when Google starts extracting **wheelchair entrance locations** from Street View imagery. [↩︎](https://www.justinobeirne.com/google-maps-moat/)
